from logicf.StudyBuddy import get_response
import streamlit as st


# Paths to user & chatbot images
user_image = "data:image/png;base64,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"
chatbot_image = "data:image/jpeg;base64,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"  

with st.sidebar:
    st.markdown("## 📚 Study Buddy")
    st.markdown("---")
    
# --------
# Navigation links
# col1, col2, col3 = st.columns(3)

# with col1:
#     st.page_link("main.py", label="Home", icon="🏠")

# with col2:
#     st.page_link("Pages/2-chat.py", label="ChatBot", icon="🤖")

# with col3:
#     st.page_link("Pages/3-About-Me.py", label="About Me", icon="🙋‍♂️")
# ---------
# Title and subtitle
st.markdown('<h1 style="text-align: center; color: #00BFA6;">Study Buddy</h1>', unsafe_allow_html=True)

# Initialize chat history
if "messages" not in st.session_state:
    st.session_state.messages = []

# Display chat history 
for message in st.session_state.messages:
    if message["role"] == "User":
        col1, col2 = st.columns([0.1, 0.9])
        with col1:
            st.image("data:image/png;base64,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", width=60, caption="User")
        with col2:
            st.markdown(f'<div style="background-color: #F5F5F5; color: black; border-radius: 15px; padding: 10px;">{message["text"]}</div>', unsafe_allow_html=True)
    else:
        col2, col1 = st.columns([0.9, 0.1])
        with col1:
            st.image(chatbot_image, width=55, caption="Chatbot")
        with col2:
            st.markdown(f'<div style="background-color: #00BFA6; color: white; border-radius: 15px; padding: 10px;">{message["text"]}</div>', unsafe_allow_html=True)

# User input
prompt = st.chat_input("Ask Study Buddy")

if prompt:
    # Store user's message
    st.session_state.messages.append({"role": "User", "text": prompt, "avatar": user_image})

    # Get chatbot response
    response = get_response(prompt)

    # Store chatbot's response
    st.session_state.messages.append({"role": "Study Buddy", "text": response, "avatar": chatbot_image})

    # Refresh the chat interface
    st.rerun()
    
st.markdown("""
    <style>
    .stButton > button {
        background-color: #FF5733;
        color: white;
        padding: 0.5em 1em;
        border-radius: 8px;
        border: none;
        font-weight: bold;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }
    .stButton > button:hover {
        background-color: #e64a19;
    }
    </style>
""", unsafe_allow_html=True)


# Initialize session state for messages
if "messages" not in st.session_state:
    st.session_state.messages = []

# Clear Chat Button
clear_button = st.button("🗑️ Clear Chat", key="clear_chat")

if clear_button:
    st.session_state.messages = []
    st.success("Chat has been cleared!")
    st.rerun()


